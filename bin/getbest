#!/bin/bash
# hand-rolled portable alternatives system
# e.g., "$0 www" should print the best available browser to stdout

WWW="chromium-browser google-chrome firefox"
PDF="evince xpdf epdfview"

function command_exists {
	# http://stackoverflow.com/questions/592620/check-if-a-program-exists-from-a-bash-script
	type $1 &> /dev/null
}

function get_best {
	for prog in $1; do
		if command_exists $prog; then
			which $prog
			exit 0
		fi
	done
	exit 1
}

# TODO fix this up too
if [ "$1" = "www" ]; then
	get_best "$WWW"
elif [ "$1" = "pdf" ]; then
	get_best "$PDF"
else
	exit 1
fi
